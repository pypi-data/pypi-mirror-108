(self.webpackChunkopenpeerpower_frontend=self.webpackChunkopenpeerpower_frontend||[]).push([[4009],{49706:(e,t,i)=>{"use strict";i.d(t,{Rb:()=>r,Zy:()=>o,h2:()=>n,PS:()=>a,l:()=>s,ht:()=>l,f0:()=>c,tj:()=>p,uo:()=>d,lC:()=>u,Kk:()=>f,iY:()=>h,ot:()=>m,gD:()=>y,a1:()=>b,AZ:()=>v});const r="opp:bookmark",o={alert:"opp:alert",alexa:"opp:amazon-alexa",air_quality:"opp:air-filter",automation:"opp:robot",calendar:"opp:calendar",camera:"opp:video",climate:"opp:thermostat",configurator:"opp:cog",conversation:"opp:text-to-speech",counter:"opp:counter",device_tracker:"opp:account",fan:"opp:fan",google_assistant:"opp:google-assistant",group:"opp:google-circles-communities",openpeerpower:"opp:openpeerpower",homekit:"opp:home-automation",image_processing:"opp:image-filter-frames",input_boolean:"opp:toggle-switch-outline",input_datetime:"opp:calendar-clock",input_number:"opp:ray-vertex",input_select:"opp:format-list-bulleted",input_text:"opp:form-textbox",light:"opp:lightbulb",mailbox:"opp:mailbox",notify:"opp:comment-alert",number:"opp:ray-vertex",persistent_notification:"opp:bell",person:"opp:account",plant:"opp:flower",proximity:"opp:apple-safari",remote:"opp:remote",scene:"opp:palette",script:"opp:script-text",sensor:"opp:eye",simple_alarm:"opp:bell",sun:"opp:white-balance-sunny",switch:"opp:flash",timer:"opp:timer-outline",updater:"opp:cloud-upload",vacuum:"opp:robot-vacuum",water_heater:"opp:thermometer",weather:"opp:weather-cloudy",zone:"opp:map-marker-radius"},n={current:"opp:current-ac",carbon_dioxide:"mdi:molecule-co2",carbon_monoxide:"mdi:molecule-co",energy:"opp:flash",humidity:"opp:water-percent",illuminance:"opp:brightness-5",temperature:"opp:thermometer",pressure:"opp:gauge",power:"opp:flash",power_factor:"opp:angle-acute",signal_strength:"opp:wifi",timestamp:"opp:clock",voltage:"opp:sine-wave"},a=["climate","cover","configurator","input_select","input_number","input_text","lock","media_player","number","scene","script","timer","vacuum","water_heater"],s=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","fan","group","humidifier","input_datetime","light","lock","media_player","person","remote","script","sun","timer","vacuum","water_heater","weather"],l=["input_number","input_select","input_text","number","scene"],c=["camera","configurator","scene"],p=["closed","locked","off"],d="on",u="off",f=new Set(["fan","input_boolean","light","switch","group","automation","humidifier"]),h=new Set(["camera","media_player"]),m="°C",y="°F",b="group.default_view",v=["ff0029","66a61e","377eb8","984ea3","00d2d5","ff7f00","af8d00","7f80cd","b3e900","c42e60","a65628","f781bf","8dd3c7","bebada","fb8072","80b1d3","fdb462","fccde5","bc80bd","ffed6f","c4eaff","cf8c00","1b9e77","d95f02","e7298a","e6ab02","a6761d","0097ff","00d067","f43600","4ba93b","5779bb","927acc","97ee3f","bf3947","9f5b00","f48758","8caed6","f2b94f","eff26e","e43872","d9b100","9d7a00","698cff","d9d9d9","00d27e","d06800","009f82","c49200","cbe8ff","fecddf","c27eb6","8cd2ce","c4b8d9","f883b0","a49100","f48800","27d0df","a04a9b"]},44634:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});const r=(e,t)=>{const i=Number(e.state),r=t&&"on"===t.state;let o="opp:battery";if(isNaN(i))return"off"===e.state?o+="-full":"on"===e.state?o+="-alert":o+="-unknown",o;const n=10*Math.round(i/10);return r&&i>10?o+=`-charging-${n}`:r?o+="-outline":i<=5?o+="-alert":i>5&&i<95&&(o+=`-${n}`),o}},27269:(e,t,i)=>{"use strict";i.d(t,{p:()=>r});const r=e=>e.substr(e.indexOf(".")+1)},91741:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var r=i(27269);const o=e=>void 0===e.attributes.friendly_name?(0,r.p)(e.entity_id).replace(/_/g," "):e.attributes.friendly_name||""},82943:(e,t,i)=>{"use strict";i.d(t,{m2:()=>r,q_:()=>o,ow:()=>n});const r=(e,t)=>{const i="closed"!==e;switch(null==t?void 0:t.attributes.device_class){case"garage":switch(e){case"opening":return"opp:arrow-up-box";case"closing":return"opp:arrow-down-box";case"closed":return"opp:garage";default:return"opp:garage-open"}case"gate":switch(e){case"opening":case"closing":return"opp:gate-arrow-right";case"closed":return"opp:gate";default:return"opp:gate-open"}case"door":return i?"opp:door-open":"opp:door-closed";case"damper":return i?"opp:circle":"opp:circle-slice-8";case"shutter":switch(e){case"opening":return"opp:arrow-up-box";case"closing":return"opp:arrow-down-box";case"closed":return"opp:window-shutter";default:return"opp:window-shutter-open"}case"blind":case"curtain":case"shade":switch(e){case"opening":return"opp:arrow-up-box";case"closing":return"opp:arrow-down-box";case"closed":return"opp:blinds";default:return"opp:blinds-open"}case"window":switch(e){case"opening":return"opp:arrow-up-box";case"closing":return"opp:arrow-down-box";case"closed":return"opp:window-closed";default:return"opp:window-open"}}switch(e){case"opening":return"opp:arrow-up-box";case"closing":return"opp:arrow-down-box";case"closed":return"opp:window-closed";default:return"opp:window-open"}},o=e=>{switch(e.attributes.device_class){case"awning":case"door":case"gate":return"opp:arrow-expand-horizontal";default:return"opp:arrow-up"}},n=e=>{switch(e.attributes.device_class){case"awning":case"door":case"gate":return"opp:arrow-collapse-horizontal";default:return"opp:arrow-down"}}},16023:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var r=i(49706);var o=i(82943),n=i(44634);const a=(e,t,i)=>{const a=void 0!==i?i:null==t?void 0:t.state;switch(e){case"alarm_control_panel":switch(a){case"armed_home":return"opp:bell-plus";case"armed_night":return"opp:bell-sleep";case"disarmed":return"opp:bell-outline";case"triggered":return"opp:bell-ring";default:return"opp:bell"}case"binary_sensor":return((e,t)=>{const i="off"===e;switch(null==t?void 0:t.attributes.device_class){case"battery":return i?"opp:battery":"opp:battery-outline";case"battery_charging":return i?"opp:battery":"opp:battery-charging";case"cold":return i?"opp:thermometer":"opp:snowflake";case"connectivity":return i?"opp:server-network-off":"opp:server-network";case"door":return i?"opp:door-closed":"opp:door-open";case"garage_door":return i?"opp:garage":"opp:garage-open";case"power":return i?"opp:power-plug-off":"opp:power-plug";case"gas":case"problem":case"safety":case"smoke":return i?"opp:check-circle":"opp:alert-circle";case"heat":return i?"opp:thermometer":"opp:fire";case"light":return i?"opp:brightness-5":"opp:brightness-7";case"lock":return i?"opp:lock":"opp:lock-open";case"moisture":return i?"opp:water-off":"opp:water";case"motion":return i?"opp:walk":"opp:run";case"occupancy":return i?"opp:home-outline":"opp:home";case"opening":return i?"opp:square":"opp:square-outline";case"plug":return i?"opp:power-plug-off":"opp:power-plug";case"presence":return i?"opp:home-outline":"opp:home";case"sound":return i?"opp:music-note-off":"opp:music-note";case"vibration":return i?"opp:crop-portrait":"opp:vibrate";case"window":return i?"opp:window-closed":"opp:window-open";default:return i?"opp:radiobox-blank":"opp:checkbox-marked-circle"}})(a,t);case"cover":return(0,o.m2)(a,t);case"humidifier":return i&&"off"===i?"opp:air-humidifier-off":"opp:air-humidifier";case"lock":return"unlocked"===a?"opp:lock-open":"opp:lock";case"media_player":return"playing"===a?"opp:cast-connected":"opp:cast";case"zwave":switch(a){case"dead":return"opp:emoticon-dead";case"sleeping":return"opp:sleep";case"initializing":return"opp:timer-sand";default:return"opp:z-wave"}case"sensor":{const e=(e=>{const t=null==e?void 0:e.attributes.device_class;if(t&&t in r.h2)return r.h2[t];if("battery"===t)return e?(0,n.M)(e):"opp:battery";const i=null==e?void 0:e.attributes.unit_of_measurement;return i===r.ot||i===r.gD?"opp:thermometer":void 0})(t);if(e)return e;break}case"input_datetime":if(!(null==t?void 0:t.attributes.has_date))return"opp:clock";if(!t.attributes.has_time)return"opp:calendar";break;case"sun":return"above_horizon"===(null==t?void 0:t.state)?r.Zy[e]:"opp:weather-night"}return e in r.Zy?r.Zy[e]:(console.warn("Unable to find icon for domain "+e+" ("+t+")"),r.Rb)}},36145:(e,t,i)=>{"use strict";i.d(t,{M:()=>a});var r=i(49706),o=i(58831),n=i(16023);const a=e=>e?e.attributes.icon?e.attributes.icon:(0,n.K)((0,o.M)(e.entity_id),e):r.Rb},85415:(e,t,i)=>{"use strict";i.d(t,{q:()=>r,w:()=>o});const r=(e,t)=>e<t?-1:e>t?1:0,o=(e,t)=>r(e.toLowerCase(),t.toLowerCase())},81545:(e,t,i)=>{"use strict";i(33300);var r=i(15652);function o(){o=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(i){t.forEach((function(t){t.kind===i&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var o=t.placement;if(t.kind===r&&("static"===o||"prototype"===o)){var n="static"===o?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var i=t.descriptor;if("field"===t.kind){var r=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],r=[],o={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,o)}),this),e.forEach((function(e){if(!s(e))return i.push(e);var t=this.decorateElement(e,o);i.push(t.element),i.push.apply(i,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:i,finishers:r};var n=this.decorateConstructor(i,t);return r.push.apply(r,n.finishers),n.finishers=r,n},addElementPlacement:function(e,t,i){var r=t[e.placement];if(!i&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var i=[],r=[],o=e.decorators,n=o.length-1;n>=0;n--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,o[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var p=0;p<c.length;p++)this.addElementPlacement(c[p],t);i.push.apply(i,c)}}return{element:e,finishers:r,extras:i}},decorateConstructor:function(e,t){for(var i=[],r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[r])(o)||o);if(void 0!==n.finisher&&i.push(n.finisher),void 0!==n.elements){e=n.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?d(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var i=p(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:i,placement:r,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:c(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=c(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var r=(0,t[i])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,i){if(void 0!==e[t])throw new TypeError(i+" can't have a ."+t+" property.")}};return e}function n(e){var t,i=p(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:i,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function a(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function s(e){return e.decorators&&e.decorators.length}function l(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function c(e,t){var i=e[t];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+t+"' to be a function");return i}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}!function(e,t,i,r){var c=o();if(r)for(var p=0;p<r.length;p++)c=r[p](c);var d=t((function(e){c.initializeInstanceElements(e,u.elements)}),i),u=c.decorateClass(function(e){for(var t=[],i=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var o,n=e[r];if("method"===n.kind&&(o=t.find(i)))if(l(n.descriptor)||l(o.descriptor)){if(s(n)||s(o))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");o.descriptor=n.descriptor}else{if(s(n)){if(s(o))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");o.decorators=n.decorators}a(n,o)}else t.push(n)}return t}(d.d.map(n)),e);c.initializeClassElements(d.F,u.elements),c.runClassFinishers(d.F,u.finishers)}([(0,r.Mo)("ha-button-menu")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,r.Cb)()],key:"corner",value:()=>"TOP_START"},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"render",value:function(){return r.dy`
      <div @click=${this._handleClick}>
        <slot name="trigger"></slot>
      </div>
      <mwc-menu
        .corner=${this.corner}
        .multi=${this.multi}
        .activatable=${this.activatable}
      >
        <slot></slot>
      </mwc-menu>
    `}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",static:!0,key:"styles",value:function(){return r.iv`
      :host {
        display: inline-block;
        position: relative;
      }
      ::slotted([disabled]) {
        color: var(--disabled-text-color);
      }
    `}}]}}),r.oi)},57066:(e,t,i)=>{"use strict";i.d(t,{Lo:()=>a,IO:()=>s,qv:()=>l,sG:()=>d});var r=i(31497),o=i(85415),n=i(38346);const a=(e,t)=>e.callWS({type:"config/area_registry/create",...t}),s=(e,t,i)=>e.callWS({type:"config/area_registry/update",area_id:t,...i}),l=(e,t)=>e.callWS({type:"config/area_registry/delete",area_id:t}),c=e=>e.sendMessagePromise({type:"config/area_registry/list"}).then((e=>e.sort(((e,t)=>(0,o.q)(e.name,t.name))))),p=(e,t)=>e.subscribeEvents((0,n.D)((()=>c(e).then((e=>t.setState(e,!0)))),500,!0),"area_registry_updated"),d=(e,t)=>(0,r.B)("_areaRegistry",c,p,e,t)},81582:(e,t,i)=>{"use strict";i.d(t,{pB:()=>r,SO:()=>o,iJ:()=>n,Nn:()=>a,Ny:()=>s,T0:()=>l,oi:()=>c,pc:()=>p});const r=e=>e.callApi("GET","config/config_entries/entry"),o=(e,t,i)=>e.callWS({type:"config_entries/update",entry_id:t,...i}),n=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),a=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),s=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),l=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),c=(e,t)=>e.callWS({type:"config_entries/system_options/list",entry_id:t}),p=(e,t,i)=>e.callWS({type:"config_entries/system_options/update",entry_id:t,...i})},57292:(e,t,i)=>{"use strict";i.d(t,{jL:()=>a,y_:()=>s,t1:()=>l,q4:()=>d});var r=i(31497),o=i(91741),n=i(38346);const a=(e,t,i)=>e.name_by_user||e.name||i&&((e,t)=>{for(const i of t||[]){const t="string"==typeof i?i:i.entity_id,r=e.states[t];if(r)return(0,o.C)(r)}})(t,i)||t.localize("ui.panel.config.devices.unnamed_device"),s=(e,t)=>e.filter((e=>e.area_id===t)),l=(e,t,i)=>e.callWS({type:"config/device_registry/update",device_id:t,...i}),c=e=>e.sendMessagePromise({type:"config/device_registry/list"}),p=(e,t)=>e.subscribeEvents((0,n.D)((()=>c(e).then((e=>t.setState(e,!0)))),500,!0),"device_registry_updated"),d=(e,t)=>(0,r.B)("_dr",c,p,e,t)},56007:(e,t,i)=>{"use strict";i.d(t,{nZ:()=>r,lz:()=>o,V_:()=>n,B8:()=>a});const r="unavailable",o="unknown",n=[r,o],a=["air_quality","alarm_control_panel","alert","automation","binary_sensor","calendar","camera","counter","cover","dominos","fan","geo_location","group","image_processing","input_boolean","input_datetime","input_number","input_select","input_text","light","lock","mailbox","media_player","number","person","plant","remember_the_milk","remote","scene","script","sensor","switch","timer","utility_meter","vacuum","weather","wink","zha","zwave"]},74186:(e,t,i)=>{"use strict";i.d(t,{eD:()=>a,Mw:()=>s,vA:()=>l,L3:()=>c,Nv:()=>p,z3:()=>d,LM:()=>h});var r=i(31497),o=i(91741),n=i(38346);const a=(e,t)=>t.find((t=>e.states[t.entity_id]&&"battery"===e.states[t.entity_id].attributes.device_class)),s=(e,t)=>t.find((t=>e.states[t.entity_id]&&"battery_charging"===e.states[t.entity_id].attributes.device_class)),l=(e,t)=>{if(t.name)return t.name;const i=e.states[t.entity_id];return i?(0,o.C)(i):null},c=(e,t)=>e.callWS({type:"config/entity_registry/get",entity_id:t}),p=(e,t,i)=>e.callWS({type:"config/entity_registry/update",entity_id:t,...i}),d=(e,t)=>e.callWS({type:"config/entity_registry/remove",entity_id:t}),u=e=>e.sendMessagePromise({type:"config/entity_registry/list"}),f=(e,t)=>e.subscribeEvents((0,n.D)((()=>u(e).then((e=>t.setState(e,!0)))),500,!0),"entity_registry_updated"),h=(e,t)=>(0,r.B)("_entityRegistry",u,f,e,t)},26765:(e,t,i)=>{"use strict";i.d(t,{Ys:()=>a,g7:()=>s,D9:()=>l});var r=i(47181);const o=()=>Promise.all([i.e(8200),i.e(879),i.e(5906),i.e(7982),i.e(6509),i.e(9631)]).then(i.bind(i,1281)),n=(e,t,i)=>new Promise((n=>{const a=t.cancel,s=t.confirm;(0,r.B)(e,"show-dialog",{dialogTag:"dialog-box",dialogImport:o,dialogParams:{...t,...i,cancel:()=>{n(!!(null==i?void 0:i.prompt)&&null),a&&a()},confirm:e=>{n(!(null==i?void 0:i.prompt)||e),s&&s(e)}}})})),a=(e,t)=>n(e,t),s=(e,t)=>n(e,t,{confirmation:!0}),l=(e,t)=>n(e,t,{prompt:!0})},73826:(e,t,i)=>{"use strict";i.d(t,{f:()=>m});var r=i(15652);function o(e,t,i,r){var o=n();if(r)for(var p=0;p<r.length;p++)o=r[p](o);var d=t((function(e){o.initializeInstanceElements(e,u.elements)}),i),u=o.decorateClass(function(e){for(var t=[],i=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var o,n=e[r];if("method"===n.kind&&(o=t.find(i)))if(c(n.descriptor)||c(o.descriptor)){if(l(n)||l(o))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");o.descriptor=n.descriptor}else{if(l(n)){if(l(o))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");o.decorators=n.decorators}s(n,o)}else t.push(n)}return t}(d.d.map(a)),e);return o.initializeClassElements(d.F,u.elements),o.runClassFinishers(d.F,u.finishers)}function n(){n=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(i){t.forEach((function(t){t.kind===i&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var o=t.placement;if(t.kind===r&&("static"===o||"prototype"===o)){var n="static"===o?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var i=t.descriptor;if("field"===t.kind){var r=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],r=[],o={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,o)}),this),e.forEach((function(e){if(!l(e))return i.push(e);var t=this.decorateElement(e,o);i.push(t.element),i.push.apply(i,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:i,finishers:r};var n=this.decorateConstructor(i,t);return r.push.apply(r,n.finishers),n.finishers=r,n},addElementPlacement:function(e,t,i){var r=t[e.placement];if(!i&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var i=[],r=[],o=e.decorators,n=o.length-1;n>=0;n--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,o[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var p=0;p<c.length;p++)this.addElementPlacement(c[p],t);i.push.apply(i,c)}}return{element:e,finishers:r,extras:i}},decorateConstructor:function(e,t){for(var i=[],r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[r])(o)||o);if(void 0!==n.finisher&&i.push(n.finisher),void 0!==n.elements){e=n.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var i=d(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:i,placement:r,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:p(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=p(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var r=(0,t[i])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,i){if(void 0!==e[t])throw new TypeError(i+" can't have a ."+t+" property.")}};return e}function a(e){var t,i=d(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:i,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function s(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function l(e){return e.decorators&&e.decorators.length}function c(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function p(e,t){var i=e[t];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+t+"' to be a function");return i}function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function f(e,t,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=e=>o(null,(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"opp",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){f(h(i.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if(f(h(i.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){f(h(i.prototype),"updated",this).call(this,e),e.has("opp")&&this.__checkSubscribed()}},{kind:"method",key:"oppSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){void 0===this.__unsubs&&this.isConnected&&void 0!==this.opp&&(this.__unsubs=this.oppSubscribe())}}]}}),e)},94009:(e,t,i)=>{"use strict";i.r(t),i.d(t,{HaConfigEntities:()=>R});i(81689);var r=i(55317),o=(i(32296),i(8878),i(25782),i(51095),i(54444),i(15652)),n=i(81471),a=i(79865),s=i(14516),l=i(58831),c=i(91741),p=i(16023),d=i(36145),u=i(83849),f=(i(7164),i(87744)),h=(i(81545),i(52039),i(57066)),m=i(81582),y=i(57292),b=i(56007),v=i(74186),g=i(5986),w=i(26765),k=(i(13076),i(75359),i(73826)),_=i(11654),E=i(29311),x=i(94458);function z(){z=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(i){t.forEach((function(t){t.kind===i&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var o=t.placement;if(t.kind===r&&("static"===o||"prototype"===o)){var n="static"===o?e:i;this.defineClassElement(n,t)}}),this)}),this)},defineClassElement:function(e,t){var i=t.descriptor;if("field"===t.kind){var r=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],r=[],o={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,o)}),this),e.forEach((function(e){if(!C(e))return i.push(e);var t=this.decorateElement(e,o);i.push(t.element),i.push.apply(i,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:i,finishers:r};var n=this.decorateConstructor(i,t);return r.push.apply(r,n.finishers),n.finishers=r,n},addElementPlacement:function(e,t,i){var r=t[e.placement];if(!i&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var i=[],r=[],o=e.decorators,n=o.length-1;n>=0;n--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,o[n])(s)||s);e=l.element,this.addElementPlacement(e,t),l.finisher&&r.push(l.finisher);var c=l.extras;if(c){for(var p=0;p<c.length;p++)this.addElementPlacement(c[p],t);i.push.apply(i,c)}}return{element:e,finishers:r,extras:i}},decorateConstructor:function(e,t){for(var i=[],r=t.length-1;r>=0;r--){var o=this.fromClassDescriptor(e),n=this.toClassDescriptor((0,t[r])(o)||o);if(void 0!==n.finisher&&i.push(n.finisher),void 0!==n.elements){e=n.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError("Duplicated element ("+e[a].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?O(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var i=A(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var o=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var n={kind:t,key:i,placement:r,descriptor:Object.assign({},o)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(o,"get","The property descriptor of a field descriptor"),this.disallowProperty(o,"set","The property descriptor of a field descriptor"),this.disallowProperty(o,"value","The property descriptor of a field descriptor"),n.initializer=e.initializer),n},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:$(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=$(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var r=(0,t[i])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,i){if(void 0!==e[t])throw new TypeError(i+" can't have a ."+t+" property.")}};return e}function P(e){var t,i=A(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:i,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function S(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function C(e){return e.decorators&&e.decorators.length}function D(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function $(e,t){var i=e[t];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+t+"' to be a function");return i}function A(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function T(e,t,i){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(i):o.value}})(e,t,i||e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}let R=function(e,t,i,r){var o=z();if(r)for(var n=0;n<r.length;n++)o=r[n](o);var a=t((function(e){o.initializeInstanceElements(e,s.elements)}),i),s=o.decorateClass(function(e){for(var t=[],i=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var o,n=e[r];if("method"===n.kind&&(o=t.find(i)))if(D(n.descriptor)||D(o.descriptor)){if(C(n)||C(o))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");o.descriptor=n.descriptor}else{if(C(n)){if(C(o))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");o.decorators=n.decorators}S(n,o)}else t.push(n)}return t}(a.d.map(P)),e);return o.initializeClassElements(a.F,s.elements),o.runClassFinishers(a.F,s.finishers)}([(0,o.Mo)("ha-config-entities")],(function(e,t){class i extends t{constructor(){super(),e(this),window.addEventListener("location-changed",(()=>{this._searchParms=new URLSearchParams(window.location.search)})),window.addEventListener("popstate",(()=>{this._searchParms=new URLSearchParams(window.location.search)}))}}return{F:i,d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"opp",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"isWide",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,o.sz)()],key:"_entities",value:void 0},{kind:"field",decorators:[(0,o.sz)()],key:"_devices",value:void 0},{kind:"field",decorators:[(0,o.sz)()],key:"_areas",value:()=>[]},{kind:"field",decorators:[(0,o.sz)()],key:"_stateEntities",value:()=>[]},{kind:"field",decorators:[(0,o.Cb)()],key:"_entries",value:void 0},{kind:"field",decorators:[(0,o.sz)()],key:"_showDisabled",value:()=>!1},{kind:"field",decorators:[(0,o.sz)()],key:"_showUnavailable",value:()=>!0},{kind:"field",decorators:[(0,o.sz)()],key:"_showReadOnly",value:()=>!0},{kind:"field",decorators:[(0,o.sz)()],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,o.sz)()],key:"_numHiddenEntities",value:()=>0},{kind:"field",decorators:[(0,o.sz)()],key:"_searchParms",value:()=>new URLSearchParams(window.location.search)},{kind:"field",decorators:[(0,o.sz)()],key:"_selectedEntities",value:()=>[]},{kind:"field",decorators:[(0,o.IO)("opp-tabs-subpage-data-table",!0)],key:"_dataTable",value:void 0},{kind:"field",key:"getDialog",value:void 0},{kind:"field",key:"_activeFilters",value(){return(0,s.Z)(((e,t,i)=>{const r=[];return e.forEach(((e,o)=>{switch(o){case"config_entry":{if(this._showDisabled=!0,!i){this._loadConfigEntries();break}const o=i.find((t=>t.entry_id===e));if(!o)break;const n=(0,g.Lh)(t,o.domain);r.push(`${this.opp.localize("ui.panel.config.integrations.integration")} "${n}${n!==o.title?`: ${o.title}`:""}"`);break}}})),r.length?r:void 0}))}},{kind:"field",key:"_columns",value(){return(0,s.Z)(((e,t)=>({icon:{title:"",type:"icon",template:e=>o.dy`
          <ha-icon slot="item-icon" .icon=${e}></ha-icon>
        `},name:{title:this.opp.localize("ui.panel.config.entities.picker.headers.name"),sortable:!0,filterable:!0,direction:"asc",grows:!0,template:e?(e,t)=>o.dy`
                ${e}<br />
                <div class="secondary">
                  ${t.entity_id} |
                  ${this.opp.localize(`component.${t.platform}.title`)||t.platform}
                </div>
              `:void 0},entity_id:{title:this.opp.localize("ui.panel.config.entities.picker.headers.entity_id"),hidden:e,sortable:!0,filterable:!0,width:"25%"},platform:{title:this.opp.localize("ui.panel.config.entities.picker.headers.integration"),hidden:e,sortable:!0,filterable:!0,width:"20%",template:e=>this.opp.localize(`component.${e}.title`)||e},area:{title:this.opp.localize("ui.panel.config.entities.picker.headers.area"),sortable:!0,hidden:e,filterable:!0,width:"15%"},status:{title:this.opp.localize("ui.panel.config.entities.picker.headers.status"),type:"icon",sortable:!0,filterable:!0,width:"68px",template:(e,t)=>t.unavailable||t.disabled_by||t.readonly?o.dy`
                <div
                  tabindex="0"
                  style="display:inline-block; position: relative;"
                >
                  <ha-icon
                    style=${(0,a.V)({color:t.unavailable?"var(--error-color)":""})}
                    .icon=${t.restored?"opp:restore-alert":t.unavailable?"opp:alert-circle":t.disabled_by?"opp:cancel":"opp:pencil-off"}
                  ></ha-icon>
                  <paper-tooltip animation-delay="0" position="left">
                    ${t.restored?this.opp.localize("ui.panel.config.entities.picker.status.restored"):t.unavailable?this.opp.localize("ui.panel.config.entities.picker.status.unavailable"):t.disabled_by?this.opp.localize("ui.panel.config.entities.picker.status.disabled"):this.opp.localize("ui.panel.config.entities.picker.status.readonly")}
                  </paper-tooltip>
                </div>
              `:""}})))}},{kind:"field",key:"_filteredEntitiesAndDomains",value(){return(0,s.Z)(((e,t,i,r,o,n,a,s,c)=>{const u=[];let f=e.length+r.length;const h={},m={};if(i){for(const e of i)h[e.area_id]=e;if(t)for(const e of t)m[e.id]=e}e.forEach((e=>e));let y=s?e.concat(r):e;const g=[];o.forEach(((e,t)=>{if("config_entry"===t){if(y=y.filter((t=>t.config_entry_id===e)),f=y.length,s||(f+=r.filter((t=>t.config_entry_id===e)).length),!c)return void this._loadConfigEntries();const t=c.find((t=>t.entry_id===e));t&&g.push(t.domain)}})),n||(y=y.filter((e=>!e.disabled_by)));for(const e of y){var w,k;const t=this.opp.states[e.entity_id],i=(null==t?void 0:t.state)===b.nZ,r=null==t?void 0:t.attributes.restored,o=null!==(w=e.area_id)&&void 0!==w?w:null===(k=m[e.device_id])||void 0===k?void 0:k.area_id,n=o?h[o]:void 0;!a&&i||u.push({...e,icon:t?(0,d.M)(t):(0,p.K)((0,l.M)(e.entity_id)),name:(0,v.vA)(this.opp,e)||this.opp.localize("state.default.unavailable"),unavailable:i,restored:r,area:n?n.name:void 0,status:r?this.opp.localize("ui.panel.config.entities.picker.status.restored"):i?this.opp.localize("ui.panel.config.entities.picker.status.unavailable"):e.disabled_by?this.opp.localize("ui.panel.config.entities.picker.status.disabled"):this.opp.localize("ui.panel.config.entities.picker.status.ok")})}return this._numHiddenEntities=f-u.length,{filteredEntities:u,filteredDomains:g}}))}},{kind:"method",key:"oppSubscribe",value:function(){return[(0,v.LM)(this.opp.connection,(e=>{this._entities=e})),(0,y.q4)(this.opp.connection,(e=>{this._devices=e})),(0,h.sG)(this.opp.connection,(e=>{this._areas=e}))]}},{kind:"method",key:"disconnectedCallback",value:function(){if(T(j(i.prototype),"disconnectedCallback",this).call(this),!this.getDialog)return;const e=this.getDialog();e&&e.closeDialog()}},{kind:"method",key:"render",value:function(){if(!this.opp||void 0===this._entities)return o.dy` <opp-loading-screen></opp-loading-screen> `;const e=this._activeFilters(this._searchParms,this.opp.localize,this._entries),{filteredEntities:t,filteredDomains:i}=this._filteredEntitiesAndDomains(this._entities,this._devices,this._areas,this._stateEntities,this._searchParms,this._showDisabled,this._showUnavailable,this._showReadOnly,this._entries),a=i.includes("zha");return o.dy`
      <opp-tabs-subpage-data-table
        .opp=${this.opp}
        .narrow=${this.narrow}
        .backPath=${this._searchParms.has("historyBack")?void 0:"/config"}
        .route=${this.route}
        .tabs=${E.configSections.integrations}
        .columns=${this._columns(this.narrow,this.opp.language)}
        .data=${t}
        .activeFilters=${e}
        .numHidden=${this._numHiddenEntities}
        .searchLabel=${this.opp.localize("ui.panel.config.entities.picker.search")}
        .hiddenLabel=${this.opp.localize("ui.panel.config.entities.picker.filter.hidden_entities","number",this._numHiddenEntities)}
        .filter=${this._filter}
        selectable
        clickable
        @selection-changed=${this._handleSelectionChanged}
        @clear-filter=${this._clearFilter}
        @search-changed=${this._handleSearchChange}
        @row-click=${this._openEditEntry}
        id="entity_id"
        .hasFab=${a}
      >
        ${this._selectedEntities.length?o.dy`<div
              class=${(0,n.$)({"header-toolbar":this.narrow,"table-header":!this.narrow})}
              slot="header"
            >
              <p class="selected-txt">
                ${this.opp.localize("ui.panel.config.entities.picker.selected","number",this._selectedEntities.length)}
              </p>
              <div class="header-btns">
                ${this.narrow?o.dy`
                      <mwc-icon-button
                        id="enable-btn"
                        @click=${this._enableSelected}
                        ><ha-svg-icon .path=${r.A44}></ha-svg-icon
                      ></mwc-icon-button>
                      <paper-tooltip animation-delay="0" for="enable-btn">
                        ${this.opp.localize("ui.panel.config.entities.picker.enable_selected.button")}
                      </paper-tooltip>
                      <mwc-icon-button
                        id="disable-btn"
                        @click=${this._disableSelected}
                        ><ha-svg-icon .path=${r.M_e}></ha-svg-icon
                      ></mwc-icon-button>
                      <paper-tooltip animation-delay="0" for="disable-btn">
                        ${this.opp.localize("ui.panel.config.entities.picker.disable_selected.button")}
                      </paper-tooltip>
                      <mwc-icon-button
                        class="warning"
                        id="remove-btn"
                        @click=${this._removeSelected}
                        ><ha-svg-icon .path=${r.x9U}></ha-svg-icon
                      ></mwc-icon-button>
                      <paper-tooltip animation-delay="0" for="remove-btn">
                        ${this.opp.localize("ui.panel.config.entities.picker.remove_selected.button")}
                      </paper-tooltip>
                    `:o.dy`
                      <mwc-button @click=${this._enableSelected}
                        >${this.opp.localize("ui.panel.config.entities.picker.enable_selected.button")}</mwc-button
                      >
                      <mwc-button @click=${this._disableSelected}
                        >${this.opp.localize("ui.panel.config.entities.picker.disable_selected.button")}</mwc-button
                      >
                      <mwc-button @click=${this._removeSelected} class="warning"
                        >${this.opp.localize("ui.panel.config.entities.picker.remove_selected.button")}</mwc-button
                      >
                    `}
              </div>
            </div> `:o.dy`<ha-button-menu slot="filter-menu" corner="BOTTOM_START" multi>
              <mwc-icon-button
                slot="trigger"
                .label=${this.opp.localize("ui.panel.config.entities.picker.filter.filter")}
                .title=${this.opp.localize("ui.panel.config.entities.picker.filter.filter")}
              >
                <ha-svg-icon .path=${r.ghd}></ha-svg-icon>
              </mwc-icon-button>
              <mwc-list-item
                @request-selected="${this._showDisabledChanged}"
                graphic="control"
                .selected=${this._showDisabled}
              >
                <ha-checkbox
                  slot="graphic"
                  .checked=${this._showDisabled}
                ></ha-checkbox>
                ${this.opp.localize("ui.panel.config.entities.picker.filter.show_disabled")}
              </mwc-list-item>
              <mwc-list-item
                @request-selected="${this._showRestoredChanged}"
                graphic="control"
                .selected=${this._showUnavailable}
              >
                <ha-checkbox
                  slot="graphic"
                  .checked=${this._showUnavailable}
                ></ha-checkbox>
                ${this.opp.localize("ui.panel.config.entities.picker.filter.show_unavailable")}
              </mwc-list-item>
              <mwc-list-item
                @request-selected="${this._showReadOnlyChanged}"
                graphic="control"
                .selected=${this._showReadOnly}
              >
                <ha-checkbox
                  slot="graphic"
                  .checked=${this._showReadOnly}
                ></ha-checkbox>
                ${this.opp.localize("ui.panel.config.entities.picker.filter.show_readonly")}
              </mwc-list-item>
            </ha-button-menu>`}
        ${a?o.dy`<a href="/config/zha/add" slot="fab">
              <ha-fab
                .label=${this.opp.localize("ui.panel.config.zha.add_device")}
                extended
                ?rtl=${(0,f.HE)(this.opp)}
              >
                <ha-svg-icon slot="icon" .path=${r.qX5}></ha-svg-icon>
              </ha-fab>
            </a>`:o.dy``}
      </opp-tabs-subpage-data-table>
    `}},{kind:"method",key:"firstUpdated",value:function(e){T(j(i.prototype),"firstUpdated",this).call(this,e),(0,x.T)()}},{kind:"method",key:"updated",value:function(e){T(j(i.prototype),"updated",this).call(this,e);const t=e.get("opp");let r=!1;if(this.opp&&this._entities&&(e.has("opp")||e.has("_entities"))){const e=[],i=new Set(this._entities.map((e=>e.entity_id)));for(const o of Object.keys(this.opp.states))i.has(o)||(t&&this.opp.states[o]===t.states[o]||(r=!0),e.push({name:(0,c.C)(this.opp.states[o]),entity_id:o,platform:(0,l.M)(o),disabled_by:null,area_id:null,config_entry_id:null,device_id:null,icon:null,readonly:!0,selectable:!1}));r&&(this._stateEntities=e)}}},{kind:"method",key:"_showDisabledChanged",value:function(e){"property"===e.detail.source&&(this._showDisabled=e.detail.selected)}},{kind:"method",key:"_showRestoredChanged",value:function(e){"property"===e.detail.source&&(this._showUnavailable=e.detail.selected)}},{kind:"method",key:"_showReadOnlyChanged",value:function(e){"property"===e.detail.source&&(this._showReadOnly=e.detail.selected)}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selectedEntities=e.detail.value}},{kind:"method",key:"_enableSelected",value:async function(){(0,w.g7)(this,{title:this.opp.localize("ui.panel.config.entities.picker.enable_selected.confirm_title","number",this._selectedEntities.length),text:this.opp.localize("ui.panel.config.entities.picker.enable_selected.confirm_text"),confirmText:this.opp.localize("ui.common.enable"),dismissText:this.opp.localize("ui.common.cancel"),confirm:async()=>{let e=!1,t=0;await Promise.all(this._selectedEntities.map((async i=>{const r=await(0,v.Nv)(this.opp,i,{disabled_by:null});r.require_restart&&(e=!0),r.reload_delay&&(t=Math.max(t,r.reload_delay))}))),this._clearSelection(),e?(0,w.Ys)(this,{text:this.opp.localize("ui.dialogs.entity_registry.editor.enabled_restart_confirm")}):t&&(0,w.Ys)(this,{text:this.opp.localize("ui.dialogs.entity_registry.editor.enabled_delay_confirm","delay",t)})}})}},{kind:"method",key:"_disableSelected",value:function(){(0,w.g7)(this,{title:this.opp.localize("ui.panel.config.entities.picker.disable_selected.confirm_title","number",this._selectedEntities.length),text:this.opp.localize("ui.panel.config.entities.picker.disable_selected.confirm_text"),confirmText:this.opp.localize("ui.common.disable"),dismissText:this.opp.localize("ui.common.cancel"),confirm:()=>{this._selectedEntities.forEach((e=>(0,v.Nv)(this.opp,e,{disabled_by:"user"}))),this._clearSelection()}})}},{kind:"method",key:"_removeSelected",value:function(){const e=this._selectedEntities.filter((e=>{const t=this.opp.states[e];return null==t?void 0:t.attributes.restored}));(0,w.g7)(this,{title:this.opp.localize(`ui.panel.config.entities.picker.remove_selected.confirm_${e.length!==this._selectedEntities.length?"partly_":""}title`,"number",e.length),text:e.length===this._selectedEntities.length?this.opp.localize("ui.panel.config.entities.picker.remove_selected.confirm_text"):this.opp.localize("ui.panel.config.entities.picker.remove_selected.confirm_partly_text","removable",e.length,"selected",this._selectedEntities.length),confirmText:this.opp.localize("ui.common.remove"),dismissText:this.opp.localize("ui.common.cancel"),confirm:()=>{e.forEach((e=>(0,v.z3)(this.opp,e))),this._clearSelection()}})}},{kind:"method",key:"_clearSelection",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"_openEditEntry",value:function(e){const t=e.detail.id,i=this._entities.find((e=>e.entity_id===t));this.getDialog=(0,x.R)(this,{entry:i,entity_id:t})}},{kind:"method",key:"_loadConfigEntries",value:async function(){this._entries=await(0,m.pB)(this.opp)}},{kind:"method",key:"_clearFilter",value:function(){this._activeFilters(this._searchParms,this.opp.localize,this._entries)&&(0,u.c)(this,window.location.pathname,!0),this._showDisabled=!0,this._showReadOnly=!0,this._showUnavailable=!0}},{kind:"get",static:!0,key:"styles",value:function(){return[_.Qx,o.iv`
        opp-loading-screen {
          --app-header-background-color: var(--sidebar-background-color);
          --app-header-text-color: var(--sidebar-text-color);
        }
        .table-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          height: 58px;
          border-bottom: 1px solid rgba(var(--rgb-primary-text-color), 0.12);
        }
        .header-toolbar {
          display: flex;
          justify-content: space-between;
          align-items: center;
          color: var(--secondary-text-color);
          position: relative;
          top: -4px;
        }
        .selected-txt {
          font-weight: bold;
          padding-left: 16px;
        }
        .table-header .selected-txt {
          margin-top: 20px;
        }
        .header-toolbar .selected-txt {
          font-size: 16px;
        }
        .header-toolbar .header-btns {
          margin-right: -12px;
        }
        .header-btns > mwc-button,
        .header-btns > mwc-icon-button {
          margin: 8px;
        }
        ha-button-menu {
          margin: 0 -8px 0 8px;
        }
      `]}}]}}),(0,k.f)(o.oi))},94458:(e,t,i)=>{"use strict";i.d(t,{T:()=>o,R:()=>a});var r=i(47181);const o=()=>Promise.all([i.e(8161),i.e(9543),i.e(8374),i.e(5906),i.e(7982),i.e(6133),i.e(5325),i.e(8101),i.e(4077),i.e(2394)]).then(i.bind(i,49499)),n=()=>document.querySelector("open-peer-power").shadowRoot.querySelector("dialog-entity-editor"),a=(e,t)=>((0,r.B)(e,"show-dialog",{dialogTag:"dialog-entity-editor",dialogImport:o,dialogParams:t}),n)}}]);
//# sourceMappingURL=chunk.ccd32685b8802628aee6.js.map